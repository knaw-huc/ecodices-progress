{"version":3,"sources":["elements/searchResultsDetail.tsx","elements/searchResultList.tsx","misc/config.tsx","facets/listFacet.tsx","facets/filterFacet.tsx","facets/freeTextFacet.tsx","assets/img/logo-data-huygensing.png","pageElements/pageHeader.tsx","components/search.tsx","components/manuscript.tsx","renderMachine.tsx","machine/ecodices.tsx","index.tsx"],"names":["SearchResultDetail","props","className","onClick","view","item","title","origPlace","origDate","SearchResultList","lst","items","map","xml","SERVICE_SERVER","ListFacet","useState","min","length","setLength","data","setData","refresh","setRefresh","loading","setLoading","short","setShort","a","url","field","fetch","response","json","useEffect","fetchData","label","parentCallback","facet","candidate","key","doc_count","max","FilterFacet","filter","setFilter","type","name","onChange","e","currentTarget","value","id","placeholder","FreeTextFacet","textField","setTextField","setTextFacet","add","onKeyUp","PageHeader","src","logo","href","Search","searchBuffer","searchvalues","page","page_length","sortorder","amount","result","setResult","searchStruc","setSearchStruc","pages","setPages","detail","setDetail","shelfmark","itemAuthor","itemTitle","measure","textLang","summary","layout","setItem","search_string","JSON","parse","Base64","fromBase64","Error","window","scroll","location","numberOfResults","pluralResults","toLocaleString","facets","method","headers","body","stringify","createPages","sendCandidate","values","found","forEach","includes","push","console","log","arr","i","goToPage","target","element","el","pg","Number","NaN","selectPage","selected","Manuscript","isFunctionComponent","val","getFirstReactComponent","pickReactComponents","state","config","configVal","undefined","error","singleResult","count","subResult","merger","input","interpreter","screens","EcodicesMachine","Machine","initial","context","manuscript_id","on","actions","assign","event","search","states","fourOhFour","interpret","gotoUrl","hash","substr","indexOf","send","start","onhashchange","ReactDOM","render","manuscriptID","React","createElement","curState","setState","cb","onTransition","off","document","getElementById"],"mappings":"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","file":"static/js/main.d82ebec0.chunk.js","sourcesContent":["import React from \"react\";\nimport {IResult, IDetailView} from \"../misc/interfaces\";\n\nfunction SearchResultDetail(props: {item: IResult, view: IDetailView}) {\n    return (\n        <div className=\"hcColumnsAuto hcPointer hcRowCard\" onClick={() => props.view(true, props.item)}>\n            <div className=\"hcCell--x2\"><strong>{props.item.title}</strong></div>\n            <div>{props.item.origPlace}</div>\n            <div>{props.item.origDate}</div>\n        </div>\n    )\n}\n\nexport default SearchResultDetail;","import React from \"react\";\nimport {IResultList, IResult, IDetailView} from \"../misc/interfaces\";\nimport SearchResultDetail from \"./searchResultsDetail\";\n\nfunction SearchResultList(props: {lst: IResultList, view: IDetailView }) {\n    return (\n        <div className=\"hcLists hcMarginBottom2\">\n            {props.lst.items.map((item) => {\n                return (<SearchResultDetail key = {item.xml} item={item} view={props.view}/>)\n            })}\n        </div>\n    )\n}\n\nexport default SearchResultList;","//export const SERVICE_SERVER = \"http://localhost:5000/\";\nexport const SERVICE_SERVER = \"http://ecodices_service:5000/\";\nexport const HOME = \"https://localhost:8091\";","import React, {useState, useEffect} from \"react\";\nimport {IFacetValues, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\n\nfunction ListFacet(props: {parentCallback: ISendCandidate, label: string, field: string, min: number, max: number}) {\n    const [length, setLength] = useState(props.min);\n    const [data, setData] = useState<IFacetValues[]>([]);\n    const [refresh, setRefresh] = useState(true);\n    const [loading, setLoading] = useState(true);\n    const [short, setShort] =  useState(true);\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"facet?name=\" + props.field + \"&amount=\" + length;\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [refresh]);\n\n    return (\n            <div className=\"hcFacet\">\n                <div className=\"hcFacetTitle\">\n                    <span>{props.label}</span>\n                </div>\n\n                <div className=\"hcFacetItems\">\n                    {loading ? (\n                        <div className=\"hcFacetItem\">\n                            Loading...\n                        </div>\n                    ) : (\n                        <div>\n                            {data.map((item) => {\n                                return (\n                                    <div className=\"hcFacetItem\" onClick={() => props.parentCallback({\n                                        facet: props.label,\n                                        field: props.field,\n                                        candidate: item.key\n                                    })}>\n                                        {item.key} <span className=\"hcFacetCount\">{item.doc_count}</span>\n                                    </div>\n                                )\n                            })}\n\n                        </div>\n\n                    )}\n\n                    {short ? (\n                        <div className=\"hcClickable\" onClick={() => {\n                            setLength(props.max);\n                            setShort(false);\n                            setRefresh(!refresh);\n                        }}>More</div>\n                    ) : (<div className=\"hcClickable\" onClick={() => {\n                        setLength(props.min);\n                        setShort(true);\n                        setRefresh(!refresh);\n                    }}>Less</div>)}\n\n                </div>\n            </div>\n\n    )\n}\n\nexport default ListFacet;","import React, {useState, useEffect} from \"react\";\nimport {IFacetValues, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\n\nfunction FilterFacet(props: {parentCallback: ISendCandidate, label: string, field: string, min: number, max: number}) {\n    const [length, setLength] = useState(props.min);\n    const [data, setData] = useState<IFacetValues[]>([]);\n    const [refresh, setRefresh] = useState(true);\n    const [loading, setLoading] = useState(true);\n    const [short, setShort] =  useState(true);\n    const [filter, setFilter] = useState(\"\");\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"filter-facet?name=\" + props.field + \"&amount=\" + length + \"&filter=\" + filter;\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        if (e.currentTarget.value.length > 0) {\n            setFilter(e.currentTarget.value);\n            setRefresh(!refresh);\n        }\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [refresh]);\n\n    return ( <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                <span>{props.label}</span>\n            </div>\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            <div className=\"hcFacetItems\">\n                {loading ? (\n                    <div className=\"hcFacetItem\">\n                        Loading...\n                    </div>\n                ) : (\n                    <div>\n                        {data.map((item) => {\n                            return (\n                                <div className=\"hcFacetItem\" onClick={() => props.parentCallback({\n                                    facet: props.label,\n                                    field: props.field,\n                                    candidate: item.key\n                                })}>\n                                    {item.key} <span className=\"hcFacetCount\">{item.doc_count}</span>\n                                </div>\n                            )\n                        })}\n\n                    </div>\n\n                )}\n\n                {short ? (\n                    <div className=\"hcClickable\" onClick={() => {\n                        setLength(props.max);\n                        setShort(false);\n                        setRefresh(!refresh);\n                    }}>More</div>\n                ) : (<div className=\"hcClickable\" onClick={() => {\n                    setLength(props.min);\n                    setShort(true);\n                    setRefresh(!refresh);\n                }}>Less</div>)}\n\n            </div>\n        </div>\n    )\n}\n\nexport default FilterFacet;","import React from \"react\";\nimport {ISendCandidate} from \"../misc/interfaces\";\nimport {useState} from \"react\";\n\nfunction FreeTextFacet(props: {add: ISendCandidate}) {\n    const [textField, setTextField] = useState<string>(\"\");\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>): void {\n        setTextField(e.currentTarget.value);\n    }\n\n    function handleKeyPress(e: React.KeyboardEvent<HTMLInputElement>): void {\n        if (e.key === 'Enter') {\n            setTextFacet();\n        }\n    }\n\n    function setTextFacet() {\n        if (textField !== \"\") {\n            props.add({facet: \"Free text\", field: \"FREE_TEXT\", candidate: textField});\n        }\n    }\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">Text search</div>\n            <div className=\"hcFacetSearch\">\n                <input type=\"text\" name=\"\" id=\"freeText\" placeholder=\"Press ENTER to search\"  onChange={handleChange} onKeyUp={handleKeyPress}/>\n                <button type=\"button\" name=\"button\" onClick={() => {setTextFacet()}}>Search</button>\n            </div>\n        </div>\n    )\n}\n\nexport default FreeTextFacet","export default __webpack_public_path__ + \"static/media/logo-data-huygensing.5276f91a.png\";","import React from 'react';\nimport logo from '../assets/img/logo-data-huygensing.png';\n\nfunction PageHeader() {\n    return (\n        <div>\n            <div className=\"hcContentContainer bgColorBrand1 hcMarginBottom1\">\n                <header className=\" hcPageHeaderSimple hcBasicSideMargin\">\n                    <div className=\"hcBrand\">\n                        <div className=\"hcBrandLogo\">\n                            <img src={logo} className=\"logo\"/>\n                        </div>\n                    </div>\n\n                    <nav>\n                        <a href=\"\">About</a>\n                    </nav>\n                </header>\n            </div>\n            <div className=\"hcContentContainer hcMarginBottom5 hcBorderBottom\">\n                <div className=\"hcBarDataset hcBasicSideMargin\">\n                <span>\n                <span className=\"hcSmallTxt hcTxtColorGreyMid\">Dataset</span>\n                    <select className=\"\" name=\"\">\n                        <option value=\"\">Manuscripts eCodices NL</option>\n                    </select>\n                </span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PageHeader;","import React, {useState, useEffect} from \"react\";\nimport SearchResultList from \"../elements/searchResultList\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {IResultList, IResult, ISearchObject, ISortOrder, ISendPage, ISendCandidate, IFacetCandidate, ISearchValues, IResetFacets, IRemoveFacet, IDetailView} from \"../misc/interfaces\";\nimport ListFacet from \"../facets/listFacet\";\nimport FilterFacet from \"../facets/filterFacet\";\nimport FreeTextFacet from \"../facets/freeTextFacet\";\nimport Manuscript from \"./manuscript\";\nimport PageHeader from \"../pageElements/pageHeader\";\nimport {Base64} from \"js-base64\";\n\nfunction Search(props: {search_string: string}) {\n\n    let searchBuffer: ISearchObject = {\n        searchvalues: \"none\",\n        page: 1,\n        page_length: 30,\n        sortorder: \"title\"\n    };\n    const [result, setResult] = useState<IResultList>({amount: 0} as IResultList);\n    const [loading, setLoading] = useState(true);\n    const [refresh, setRefresh] = useState(true);\n    const [searchStruc, setSearchStruc] = useState(searchBuffer);\n    const [pages, setPages] = useState<number[]>([]);\n    const [detail, setDetail] = useState(false);\n    const [item, setItem] = useState<IResult>({xml: \"\", origDate: \"\", origPlace: \"\", title: \"Test\", shelfmark: \"\", itemAuthor: \"\", itemTitle: \"\", measure: \"\", textLang: [], summary: \"\", layout: \"\"})\n\n    if (props.search_string !== \"none\") {\n        try {\n            searchBuffer = JSON.parse(Base64.fromBase64(props.search_string)) as ISearchObject;\n            setSearchStruc(searchBuffer);\n        } catch (Error) {\n            window.scroll(0, 0);\n            window.location.href = \"/\";\n        }\n    }\n\n    let numberOfResults: string = \"0\";\n    let pluralResults: string = \"\";\n    if (result.amount === 1) {\n        pluralResults = \" result\";\n    } else {\n        pluralResults = \" results\";\n    }\n\n    if (result.amount >= 10000) {\n        numberOfResults = result.amount.toLocaleString('nl-NL') + \"+\" + pluralResults;\n    } else {\n        numberOfResults = result.amount.toLocaleString('nl-NL') + pluralResults;\n    }\n\n    let facets: ISearchValues[] = [];\n    if (typeof searchStruc.searchvalues === \"object\") {\n        facets = searchStruc.searchvalues as ISearchValues[];\n    }\n\n    const cross: string = \"[x]\";\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"browse\";\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Origin': 'http://localhost:8091'\n            },\n            body: JSON.stringify(searchStruc)\n        });\n        const json: IResultList = await response.json();\n        setResult(json);\n        setPages(createPages(json));\n        setLoading(false);\n        setRefresh(refresh);\n    }\n\n\n\n    useEffect(() => {\n        fetchData();\n    }, [refresh]);\n\n    const resetFacets: IResetFacets = () => {\n        searchBuffer = searchStruc;\n        searchBuffer.page = 1;\n        searchBuffer.searchvalues = \"none\";\n        setSearchStruc(searchBuffer);\n        setRefresh(!refresh);\n    }\n\n    const detailView: IDetailView = (value: boolean, result: IResult) => {\n        setDetail(value);\n        setItem(result);\n    }\n\n    const removeFacet: IRemoveFacet = (field: string, value: string) => {\n        searchBuffer = searchStruc;\n        if (typeof searchBuffer.searchvalues === \"object\") {\n            searchBuffer.searchvalues.forEach((item: ISearchValues) => {\n                if (item.name === field) {\n                    item.values = item.values.filter((element => element !== value));\n                }\n            })\n            searchBuffer.searchvalues = searchBuffer.searchvalues.filter(function (el) {\n                return el.values.length > 0\n            });\n            if (searchBuffer.searchvalues.length === 0) {\n                searchBuffer.searchvalues = \"none\";\n            }\n        }\n        setSearchStruc(searchBuffer);\n        setRefresh(!refresh);\n    }\n\n    const sendCandidate: ISendCandidate = (candidate: IFacetCandidate) => {\n        searchBuffer = searchStruc;\n        if (searchStruc.searchvalues === \"none\") {\n            searchBuffer.searchvalues = [{\n                name: candidate.facet,\n                field: candidate.field,\n                values: [candidate.candidate]\n            } as ISearchValues];\n            setSearchStruc(searchBuffer);\n            //window.location.href = '#search/' + Base64.toBase64(JSON.stringify(searchStruc));\n            setRefresh(!refresh);\n        } else {\n            if (typeof searchBuffer.searchvalues === \"object\") {\n                let found: boolean = false;\n                searchBuffer.searchvalues.forEach((item) => {\n                    if (item.name === candidate.facet) {\n                        found = true;\n                        if (!item.values.includes(candidate.candidate)) {\n                            item.values.push(candidate.candidate);\n                        }\n                    }\n                });\n                if (!found) {\n                    searchBuffer.searchvalues.push({\n                        name: candidate.facet,\n                        field: candidate.field,\n                        values: [candidate.candidate]\n                    });\n                }\n            }\n            searchBuffer.page = 1;\n            setSearchStruc(searchBuffer);\n            setRefresh(!refresh);\n            console.log(searchStruc);\n            window.scroll(0, 0);\n        }\n    }\n\n\n    function createPages(json: IResultList) {\n        let arr: number[] = [];\n        for (var i: number = 1; i <= json.pages; i++) {\n            arr.push(i);\n        }\n        return arr;\n    }\n\n    function nextPage() {\n        goToPage(searchStruc.page + 1);\n    }\n\n    function selectPage(item: string) {\n        const pg: number = Number(item);\n        if (pg != NaN) {\n            goToPage(pg);\n        }\n    }\n\n    function prevPage() {\n        if (searchStruc.page > 0) {\n            goToPage(searchStruc.page - 1);\n        }\n    }\n\n\n    const goToPage: ISendPage = (page: number) => {\n        searchBuffer = searchStruc;\n        searchBuffer.page = page;\n        setSearchStruc(searchBuffer);\n        setRefresh(!refresh);\n        //window.location.href = '#search/' + Base64.toBase64(JSON.stringify(searchStruc));\n        window.scroll(0, 0);\n    }\n\n\n    const setSortOrder: ISortOrder = (field: string) => {\n        searchBuffer = searchStruc;\n        searchBuffer.sortorder = field;\n        searchBuffer.page = 1;\n        setSearchStruc(searchBuffer);\n        setRefresh(!refresh);\n    }\n\n    return (\n        <div>\n            <PageHeader/>\n            {detail ?\n                (<div className=\"hcContentContainer\">\n                    <div className=\"hcBasicSideMargin hcMarginTop4 hcMarginBottom1\">\n                        <h1>{item.title}</h1>\n                        <div className=\"hcFormStack hcMarginBottom3 hcBasicSideMargin\">\n                            <div className=\"hcStackInfo\">\n                                <div className=\"hcClickable\">Show TEI file</div>\n                                <div className=\"hcClickable\">Edit</div>\n                                <div className=\"hcClickable\" onClick={() => setDetail(false)}>Back</div>\n                            </div>\n                            <div className=\"hcStackFormItems\">\n                                <div className=\"hcLabel\">Original place</div>\n                                <div className=\"hcMarginBottom1\">{item.origPlace}<br/>\n                                    Dordrecht</div>\n\n                                <div className=\"hcLabel\">Original date</div>\n                                <div className=\"hcMarginBottom1\">{item.origDate}<br/>\n                                </div>\n\n                                <div className=\"hcLabel\">Shelfmark</div>\n                                <div className=\"hcMarginBottom1\">{item.shelfmark}<br/>\n                                </div>\n\n                                <div className=\"hcLabel\">Title</div>\n                                <div className=\"hcMarginBottom1\">{item.itemTitle}<br/>\n                                </div>\n\n                                <div className=\"hcLabel\">Author</div>\n                                <div className=\"hcMarginBottom1\">{item.itemAuthor}<br/>\n                                </div>\n\n                                <div className=\"hcLabel\">Layout</div>\n                                <div className=\"hcMarginBottom1\">{item.layout}<br/>\n                                </div>\n\n                                <div className=\"hcLabel\">TEI file</div>\n                                <div className=\"hcMarginBottom1\">{item.xml}</div>\n\n                            </div>\n                        </div>\n\n                    </div>\n                </div> )\n                :\n                (<div className=\"hcContentContainer\">\n                <div className=\"hcBasicSideMargin hcMarginTop1 hcMarginBottom1\">\n                    <h1>Manuscript search</h1>\n                </div>\n                {loading ? (<div className=\"loader\">Loading...</div>) : (\n                <div className=\"hcLayoutFacet-Result hcBasicSideMargin hcMarginBottom15\">\n\n                    <div className=\"hcLayoutFacets\">\n                        <button type=\"button\" name=\"button\" id=\"showFacets\" className=\"hcfixedSideButton\"><img\n                            src=\"https://d33wubrfki0l68.cloudfront.net/191a405740a4ade92836ba6eea6a6ceaa798bf2f/a4d8b/images/icons/icon-set-facets.svg\"\n                            className=\"icon\" /></button>\n                        <div className=\"hcLayoutFacetsToggel\" id=\"hcLayoutFacetsToggel\">\n\n                            <FreeTextFacet add={sendCandidate}/>\n                            <FilterFacet parentCallback={sendCandidate} label=\"title\" field=\"itemTitle\" min={5} max={20} />\n                            <ListFacet parentCallback={sendCandidate} label=\"Original language\" field=\"textLang.language\" min={5} max={50} />\n                            <ListFacet parentCallback={sendCandidate} label=\"Location\" field=\"location\" min={5} max={50} />\n                            <ListFacet parentCallback={sendCandidate} label=\"Original place\" field=\"origPlace\" min={5} max={100} />\n\n                        </div>\n                    </div>\n\n\n                    <div className=\"hcLayoutResults\">\n                        <div className=\"hcResultsHeader hcMarginBottom1\">\n                            <div>{numberOfResults}, page {searchStruc.page} of {result.pages}</div>\n                            <div><select className=\"\" name=\"\" value={searchStruc.sortorder} onChange={(e) => {\n                                setSortOrder(e.target.value)\n                            }} >\n                                <option value=\"title\">Order by Title</option>\n                                <option value=\"origPlace\">Order by Place</option>\n                                <option value=\"origDate\">Order by Date</option>\n                            </select></div>\n                        </div>\n\n                        <div className=\"hcMarginBottom2\">\n                            <div className=\"hcSmallTxt hcTxtColorGreyMid\">Selected facets:\n                            <span\n                                className=\"hcFacetReset hcClickable\" onClick={resetFacets}>Reset facets</span></div>\n                        </div>\n                        {searchStruc.searchvalues === \"none\" ? (\n                            <div/>\n                        ) : (\n                            facets.map((item: ISearchValues) => {\n                                return (\n                                    <span className=\"hcSelectedFacet\"><span\n                                        className=\"hcSelectedFacetType\">{item.name}: </span>\n                                        {item.values.map(function (element, i) {\n                                            return (<div className=\"hcFacetValues\" key={i}\n                                                         onClick={() => removeFacet(item.name, element)}>{element}  </div>)\n                                        })}\n                                    </span>\n                                )\n                            })\n                        )}\n\n                        <div className=\"hcList\">\n                            <div className=\"hcListHeader\">\n                                <div className=\"hcLabel hcListItemLong\">Title</div>\n                                <div className=\"hcLabel\">Place</div>\n                                <div className=\"hcLabel\">Date</div>\n                            </div>\n                        </div>\n\n                        <SearchResultList lst={result} view={detailView}/>\n\n                        {!loading && result.amount > searchStruc.page_length ? (\n                            <div className=\"hcPagination\">\n                                {searchStruc.page < 2 ?\n                                    (<div/>) : (\n                                        <div className=\"hcClickable\" onClick={prevPage}>&#8592; Previous</div>)}\n                                <div className=\"hcClickable\">\n                                    <select className=\"hcPageSelector\" onChange={(e) => selectPage(e.target.value)}>\n                                        {pages.map((pg: number) => {\n                                            if (pg === searchStruc.page) {\n                                                return (\n                                                    <option value={pg} selected>{pg}</option>)\n                                            } else {\n                                                return (\n                                                    <option value={pg}>{pg}</option>)\n                                            }\n                                        })}\n                                    </select>\n                                </div>\n                                {searchStruc.page < result.pages ? (\n                                    <div className=\"hcClickable\" onClick={nextPage}>Next &#8594;</div>\n                                ) : (<div/>)}\n                            </div>\n                        ) : (<div/>)}\n                    </div>\n                </div> )}\n            </div>)}\n        </div>\n    )\n}\n\nexport default Search;","import React from \"react\";\nimport PageHeader from \"../pageElements/pageHeader\";\n\nfunction Manuscript(props: { manuscriptID: string }) {\n    return (\n        <div>\n            <PageHeader/>\n            <div className=\"hcContentContainer\">\n                <div className=\"hcStackFormItems\">\n                    <div className=\"hcLabel\">Birth</div>\n                    <div className=\"hcMarginBottom1\">1851<br/>\n                        Dordrecht</div>\n\n                    <div className=\"hcLabel\">Death</div>\n                    <div className=\"hcMarginBottom1\">1929<br/>\n                    </div>\n\n                    <div className=\"hcLabel\">Gender</div>\n                    <div className=\"hcMarginBottom1\">male</div>\n\n                    <div className=\"hcLabel\">Short bio</div>\n                    <div className=\"hcMarginBottom1\">Jan Boeke was born in 1874 in Hengelo. He attended the gymnasium in\n                        Utrecht and in 1894 he went to study medicine in Amsterdam. As a third year student he won a\n                        gold medal that the Amsterdam Medical Faculty had put up for the best answer to the prize\n                        question Over de invloed van aethyl-alcohol op het hart, met name op de hartspier. After sitting\n                        his medical finals in 1900, Boeke left for the Zoological Station (Deep Sea Institute) in Naples\n                        to study the development of muraenoids. With the publication arising from this, De\n                        ontwikkelingsgeschiedenis der muraenoieden he firmly established his name as a zoologist. Back\n                        in the Netherlands he assisted professor Thomas Place at the Physiological laboratory in\n                        Amsterdam and after one year he gained his doctorate under Place for his thesis Bijdrage tot de\n                        pharmacologie van het hart, a more detailed version of his answer to the prize question. Back in\n                        Naples, he became acquainted with the famous Hungarian professor Stefan Apáthy, expert in the\n                        area of the anatomy and histology of nervous tissue. He taught Boeke about the problems and\n                        methods of research in this area. Fur thermore, Boeke was his guest for four months in his\n                        laboratory in Kolozsvar Hungary. Back in Amsterdam Boeke worked for a shor t period at the\n                        Histology Depar tment of the Physiology Laboratory, but he soon left the university to accept a\n                        position as first assistant at the newly founded Rijksinstituut voor Onderzoek der Zee [National\n                        Institute for Marine Research] in Den Helder. From there he took part in a number of fishing\n                        investigations on the Nor th Sea and the Caribbean Sea.\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Manuscript;","import { StateValue, EventObject, Interpreter, State } from 'xstate';\nimport React, { useEffect, useState, ReactElement } from 'react';\nimport { StateListener } from 'xstate/lib/interpreter';\n\n\ninterface StateDefinition<TContext, Events extends EventObject> {\n  [K: string]: React.FunctionComponent<{state: State<TContext, Events>}> | StateDefinition<TContext, Events>\n}\n\ntype AsStateDefinition<T, TContext, TEvents extends EventObject> = T extends {type: \"parallel\", states: infer Sub} \n  ? ({\n    [K in Exclude<keyof Sub, \"History\">]: AsStateDefinition<Sub[K], TContext, TEvents>\n  } & {\":merge\": React.FunctionComponent<{state: State<TContext, TEvents>, input: {[K in keyof Sub]: React.FunctionComponent<{state: State<TContext, TEvents>}>}}>})\n  : T extends {states: infer Sub}\n    ? React.FunctionComponent<{state: State<TContext, TEvents>}> | {\n      [K in Exclude<keyof Sub, \"History\">]: AsStateDefinition<Sub[K], TContext, TEvents>\n    } | ({\"\": React.FunctionComponent<{state: State<TContext, TEvents>}>} & {\n      [K in Exclude<keyof Sub, \"History\">]?: AsStateDefinition<Sub[K], TContext, TEvents>\n    })\n    : React.FunctionComponent<{state: State<TContext, TEvents>}>\n\nexport function StateMachineComponent<TContext, Schema, Events extends EventObject>(interpreter: Interpreter<TContext, Schema, Events>, screens: AsStateDefinition<Schema, TContext, Events>): ReactElement {\n\n\n  return React.createElement(function ThisIsAFunctionComponentNoteTheCapitalFirstLetterYo() {\n    const [curState, setState] = useState(interpreter.state);\n    useEffect(() => {\n      const cb: StateListener<TContext, Events> = state => {\n        return setState(state);\n      }\n      interpreter.onTransition(cb);\n      return () => {\n        interpreter.off(cb)\n      }\n    }, [interpreter, screens])\n    const view = pickReactComponents(curState.value, screens as any)\n    if (view !== undefined) {\n      const props: any = {state: curState}\n      return React.createElement(view, props)\n    } else {\n      return <div>No GUI defined for {JSON.stringify(curState.value)}</div>\n    }\n  })\n}\n\nfunction isFunctionComponent<TContext, Events extends EventObject>(val: StateDefinition<TContext, Events> | React.FunctionComponent<{state: State<TContext, Events>}>): val is React.FunctionComponent<{state: State<TContext, Events>}> {\n  return typeof val === \"function\"\n}\n\nfunction getFirstReactComponent<TContext, Events extends EventObject>(val: StateDefinition<TContext, Events>): React.FunctionComponent<{state: State<TContext, Events>}> | undefined {\n  for (const key in val) {\n    const item = val[key]\n    if (isFunctionComponent(item)) {\n      return item\n    } else {\n      return getFirstReactComponent(item)\n    }\n  }\n  return undefined\n}\n\nfunction pickReactComponents<TContext, Events extends EventObject>(state: StateValue, config: StateDefinition<TContext, Events>): React.FunctionComponent<{state: State<TContext, Events>}> | undefined {\n  if (typeof state === \"string\") {\n    const configVal = config[state]\n    if (configVal === undefined) {\n      return (config[state] === undefined ? config[\"\"] : config[state]) as React.FunctionComponent | undefined\n    }\n    else if (isFunctionComponent(configVal)) {\n      return configVal\n    } else {\n      console.error(\"Non-terminal state config for an atomic state!\")\n      return getFirstReactComponent(configVal)\n    }\n  } else {\n    const result: {[key: string]: React.FunctionComponent<{state: State<TContext, Events>}>} = {}\n    let singleResult;\n    let count = 0\n    for (const key in state) {\n      const configVal = config[key]=== undefined ? config[\"\"] : config[key]\n      if (isFunctionComponent(configVal)) {\n        count++\n        result[key] = configVal\n        singleResult = configVal\n      } else if (typeof configVal === \"object\") {\n        const subResult = pickReactComponents(state[key], configVal)\n        if (subResult !== undefined) {\n          count++\n          result[key] = subResult\n          singleResult = subResult\n        }\n      }\n    }\n    if (count === 1) {\n      return singleResult\n    } else {\n      const merger = config[\":merge\"] as any\n      return (props: any) => merger({state: props.state, input: result})\n    }\n  }\n}\n","import {assign, Machine} from \"xstate\";\n\nexport const EcodicesMachine = Machine<{\n    search_string: string,\n    manuscript_id: string\n}, {\n    states: {\n        fourOhFour: {},\n        detail: {},\n        search: {},\n    }\n}>(\n    {\n        id: 'fetch',\n        initial: 'search',\n        context: {\n            search_string: \"none\",\n            manuscript_id: \"\",\n        },\n        on: {\n            detail: {\n                actions: assign({\n                    manuscript_id: (context, event) => event.manuscript_id\n                }),\n                target: \"detail\"\n            },\n            search: {\n                actions: assign({\n                    search_string: (context, event) => event.search_string\n                }),\n                target: \"search\"\n            },\n            \"*\": \"fourOhFour\"\n        },\n        states: {\n            fourOhFour: {},\n            detail: {\n                on: {\n                    search: \"search\",\n                    detail: \"detail\"\n                }\n            },\n            search: {\n                on: {\n                    item: \"detail\"\n                }\n            }\n        }\n    }\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Search from \"./components/search\";\nimport Manuscript from \"./components/manuscript\";\nimport {StateMachineComponent} from \"./renderMachine\";\nimport {interpret} from \"xstate\";\nimport {EcodicesMachine} from \"./machine/ecodices\";\nimport './assets/css/style.css';\n\n\nconst interpreter = interpret(EcodicesMachine);\ninterpreter.start();\n\ngotoUrl();\n\nfunction gotoUrl() {\n    if (window.location.hash.substr(1).indexOf(\"detail/\") === 0) {\n        const id = window.location.hash.substr(window.location.hash.indexOf(\"/\") + 1);\n        interpreter.send(\"fourOhFour\"); //Filthy solution for forcing props reload!!!\n        interpreter.send(\"detail\", {manuscript_id: id});\n    } else {\n        if (window.location.hash.substr(1).indexOf(\"search\") === 0) {\n            if (window.location.hash.substr(1).length > 6 && window.location.hash.substr(1).indexOf(\"search\") !== -1) {\n                const id = window.location.hash.substr(window.location.hash.indexOf(\"/\") + 1);\n                interpreter.send(\"search\", {search_string: id});\n            } else {\n                const id = \"none\";\n                interpreter.send(\"search\", {search_string: id});\n            }\n        } else {\n            const id = \"none\";\n            interpreter.send(\"search\", {search_string: id});\n        }\n    }\n}\n\nwindow.onhashchange = gotoUrl;\n\n\n\n\nReactDOM.render(\n    <div>\n        {StateMachineComponent(interpreter, {\n            \"detail\": ({state}) => <Manuscript manuscriptID={(state.context || {}).manuscript_id}/>,\n            \"search\": ({state}) => <Search  search_string={(state.context || {}).search_string}/>,\n            \"fourOhFour\": ({state}) => <div>404</div>,\n            \"\": ({state}) => <div>The GUI for {state.value} is not yet defined</div>\n        })}</div>\n    , document.getElementById('root'));\n\n\n\n"],"sourceRoot":""}